@inject IUserInformationService UserInformationService
@inject IApiService ApiService

@page "/data"
@page "/data/{uploaded}"

<FileGrid CurrentFolder="ApiService.CurrentFolder" CanAddData="true" />

@code
{
    [Parameter]
    public string uploaded { get; set; }

    protected override void OnInitialized()
    {
        ApiService.ProjectUploadCode = string.Empty;
        // If we came from file upload, just reload the current folder
        if (string.IsNullOrWhiteSpace(uploaded) || !uploaded.Equals("true", StringComparison.OrdinalIgnoreCase))
        {
            ApiService.CurrentFolder = ApiService.MyDataFolder;
        }
    }
}