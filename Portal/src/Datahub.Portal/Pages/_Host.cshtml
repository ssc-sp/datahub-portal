@page "/"
@using Datahub.Portal
@using Microsoft.AspNetCore.Components.Web

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <base href="~/"/>

    @*Favicons*@
    <!-- For old IEs -->
    <link rel="shortcut icon" href="/img/favicons/favicon.ico"/>
    <!-- For new browsers - multisize ico  -->
    <link rel="icon" type="image/x-icon" sizes="16x16 32x32" href="~/_content/Datahub.Core/img/favicons/favicon.ico">
    <!-- For iPad with high-resolution Retina display running iOS ≥ 7: -->
    <link rel="apple-touch-icon" sizes="152x152" href="~/_content/Datahub.Core/img/favicons/favicon-152-precomposed.png">
    <!-- For iPad with high-resolution Retina display running iOS ≤ 6: -->
    <link rel="apple-touch-icon" sizes="144x144" href="~/_content/Datahub.Core/img/favicons/favicon-144-precomposed.png">
    <!-- For iPhone with high-resolution Retina display running iOS ≥ 7: -->
    <link rel="apple-touch-icon" sizes="120x120" href="~/_content/Datahub.Core/img/favicons/favicon-120-precomposed.png">
    <!-- For iPhone with high-resolution Retina display running iOS ≤ 6: -->
    <link rel="apple-touch-icon" sizes="114x114" href="~/_content/Datahub.Core/img/favicons/favicon-114-precomposed.png">
    <!-- For iPhone 6+ -->
    <link rel="apple-touch-icon" sizes="180x180" href="~/_content/Datahub.Core/img/favicons/favicon-180-precomposed.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon" sizes="72x72" href="~/_content/Datahub.Core/img/favicons/favicon-72-precomposed.png">
    <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
    <link rel="apple-touch-icon" sizes="57x57" href="~/_content/Datahub.Core/img/favicons/favicon-57.png">
    <!-- For Old Chrome -->
    <link rel="icon" sizes="32x32" href="~/_content/Datahub.Core/img/favicons/favicon-32.png">
    <!-- For IE10 Metro -->
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="~/_content/Datahub.Core/img/favicons/favicon-144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- Chrome for Android -->
    <link rel="manifest" href="~/_content/Datahub.Core/img/favicons/manifest.json">
    <link rel="icon" sizes="192x192" href="~/_content/Datahub.Core/img/favicons/favicon-192.png">


    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/googlecode.min.css">

    @* CSS styling from DATAHUB_HOMEPAGE *@
    @* <link rel="stylesheet" href="~/_content/Datahub.Core/css/third-party/layout.css" type="text/css"/> *@
    @* <link rel="stylesheet" href="~/_content/Datahub.Core/css/third-party/datahub.css" type="text/css"/> *@
    @*<link href="~/_content/Datahub.Core/css/fontawesome/fontawesome.min.css" rel="stylesheet" />*@
    @* see https://fontawesome.com/docs/web/setup/host-yourself/webfonts *@

    @* <link href="~/_content/Datahub.Core/css/fontawesome/all.min.css" rel="stylesheet" /> *@
    <link href="~/_content/Datahub.Core/css/fontawesome/fontawesome.min.css" rel="stylesheet"/>
    <link href="~/_content/Datahub.Core/css/fontawesome/solid.min.css" rel="stylesheet"/>
    <link href="~/_content/Datahub.Core/css/fontawesome/duotone.min.css" rel="stylesheet"/>

    @* <link href="~/_content/Datahub.Core/css/third-party/normalize.css" rel="stylesheet" /> *@
    <link href="~/_content/Datahub.Core/css/site.min.css" rel="stylesheet"/>

    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet"/>
    <link href="_content/MudBlazor.Markdown/MudBlazor.Markdown.min.css" rel="stylesheet"/>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script src="~/js/powerbi-client/dist/powerbi.min.js"></script>
    <script src="~/js/pbi-integration.js"></script>


    <script src="~/js/third-party/highlight.min.js"></script>

    <script src="~/js/BlazorInterop.js"></script>
    <script defer src="~/_content/Datahub.Core/js/inputfile.js"></script>
    <script defer src="~/_content/Datahub.Core/js/filegrid.js"></script>
    <script defer src="~/_content/Datahub.Core/js/anchorLink.js"></script>
    <script defer src="~/_content/Datahub.Core/js/clipboard-interop.js"></script>
    <script defer src="~/_content/Datahub.Core/js/iframe.js"></script>
    <script defer src="_content/AElemental.Blazor/js/aebundle.js"></script>
    <script defer src="~/js/custom-navigation.js"></script>

    <component type="typeof(HeadOutlet)" render-mode="ServerPrerendered"/><title></title>
</head>

<body>


@* Custom Reconnect Message *@
<style>
    .my-reconnect-modal > div {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        z-index: 10000;
        overflow: hidden;
        background-color: #fff;
        text-align: center;
        font-weight: bold;
        padding-top:  16rem;
    }
    .components-reconnect-hide > div
    {
        display: none;
    }

    .components-reconnect-show > div
    {
        display: none;
    }
    .components-reconnect-show > .show
    {
        display: block;
    }

    .components-reconnect-failed > div
    {
        display: none;
    }
    .components-reconnect-failed > .failed
    {
        display: block;
    }

    .components-reconnect-rejected >div
    {
        display: none;
    }
    .components-reconnect-rejected > .rejected
    {
        display: block;
    }
</style>


<div id="components-reconnect-modal" class="my-reconnect-modal components-reconnect-hide">
    <div class="show">
        <p>
            Attempting to reconnect...
        </p>
        <p>
            <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Click here</span> to try returning to the home page.
        </p>
        <div style="height: 100px;"></div>
        <p>
            Tentative de reconnexion...
        </p>
        <p>
            <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Cliquez ici</span> pour essayer de retourner à la page d'accueil.
        </p>
    </div>

    <div class="failed">
        <p>
            Connection to the server has failed. 
        </p>
        <p>
             <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Click here</span> to try returning to the home page.
        </p>
        <div style="height: 100px;"></div>
        <p>
            La connexion au serveur a échoué.
        </p>
        <p>
           <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Cliquez ici</span> pour essayer de retourner à la page d'accueil.
        </p>
    </div>
    <div class="rejected">
        <p>
            Connection to the server has been rejected.
        </p>
        <p>
            <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Click here</span> to try returning to the home page.
        </p>
        <div style="height: 100px;"></div>
        <p>
            La connexion au serveur a été rejetée.
        </p>
        <p>
            <span onclick="location.reload()" style="text-decoration: underline; cursor: pointer;">Cliquez ici</span> pour essayer de retourner à la page d'accueil.
        </p>
    </div>
</div>
@* End of Custom Reconnect Message *@

<app>
    @(await Html.RenderComponentAsync<App>(RenderMode.ServerPrerendered))
</app>

<div id="browserNotSupported" style="display: none;">
    <div style="width: 100%; text-align: center">
        <i class="fad fa-exclamation-triangle fa-10x"></i>
    </div>
    <h1 style="margin: 16px 0; text-align: center">The Datahub Application requires a recent browser.</h1>
    <p>To view our interactive report we recommend using a recent browser such as Chrome, Edge, Firefox, or Safari.</p>
</div>
<script>
        var ua = window.navigator.userAgent;
        var msie = ua.indexOf("MSIE ");
        if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
            document.getElementsByTagName("html")[0].style.cssText = "width: 100%; height: 100%; position: relative";
            document.getElementsByTagName("body")[0].style.cssText = "width: 100%; height: 100%; position: relative";
            document.getElementById('browserNotSupported').style.cssText = "display: inline; text-align: center; position: absolute; width: 60%; max-width: 600px; top: 40%; left: 50%;transform: translate(-50%, -50%);";
        }
    </script>
<script src="_framework/blazor.server.js"></script>
<script src="_content/MudBlazor/MudBlazor.min.js"></script>
<script defer src="_content/MudBlazor.Markdown/MudBlazor.Markdown.min.js"></script>
</body>
</html>