@using MudBlazor.Utilities
@using Datahub.Core.Components.Common
<div class="reader-only">
    <ul>
        <li>
            <a href="#maincontent">@Localizer["Skip to main content"]</a>
        </li>
        <li>
            <a href="#header">@Localizer["Skip to header"]</a>
        </li>
        <li>
            <a href="#nav">@Localizer["Skip to navigation"]</a>
        </li>
    </ul>
    <h3>@Localizer["Language selection"]</h3>
    <ul>
        <li>
            <a>
                <LanguageToggle/>
            </a>
        </li>
    </ul>
</div>
<div class="reader-only" id="header">
    <h3>@Localizer["Header"]</h3>
</div>
<MudLink Href="@PageRoutes.Home" Underline="Underline.None">
    <MudStack Row AlignItems="AlignItems.Center">
        <MudImage src="_content/Datahub.Core/img/datahub-logo-v2.png" Alt="Datahub Logo" Height="30"/>
        <MudText Typo="Typo.h6" Style="@_titleStyle">
            @Localizer["MainTitle"]
        </MudText>
    </MudStack>
</MudLink>

@*<MudSpacer/>
<HomeSearch />*@

<MudSpacer/>
<MudStack Row>
    <MudButton Variant="Variant.Text" Href="/home">
        @Localizer["Home"]
    </MudButton>
    <MudButton Variant="Variant.Text" Href="/news">
        @Localizer["News"]
    </MudButton>
    <MudButton Variant="Variant.Text" Href="/explore">
        @Localizer["Explore"]
    </MudButton>
    <MudButton Variant="Variant.Text" Href="/resources">
        @Localizer["Learn"]
    </MudButton>
</MudStack>
<MudSpacer/>
<SearchPopover/>

<MudSpacer/>
@* <NotificationsList IsNotificationsListOpen="@IsNotificationsListOpen" ToggleNotificationsList="ToggleNotificationsList" /> *@
<HelpPopup/>
<TopBarProfileButton/>

@code {

    [Parameter] public string SupportFormUrl { get; set; }

    private string _titleStyle;

    private bool IsNotificationsListOpen { get; set; }

    private void ToggleNotificationsList()
    {
        IsNotificationsListOpen = !IsNotificationsListOpen;
    }

    private void ToggleHelp()
    {
        IsNotificationsListOpen = false;
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();

        _titleStyle = new StyleBuilder()
            .AddStyle("color", "var(--mud-palette-text-primary)")
            .Build();
    }

}