@using Datahub.Core.Services.Docs
@using Datahub.Markdown.Model
@using MudBlazor.Utilities

<MudGrid>
    @foreach (var documentItem in DocumentItems)
    {
        <MudItem xs="6">
            <ResourcesPreviewCard ShortVersion="@_showShort" DocumentItem="@documentItem" />
        </MudItem>
    }
</MudGrid>

@code {

    [Parameter]
    public List<DocItem> DocumentItems { get; set; } = new();
    private string _containerStyle;
    private bool _showShort = false;

    protected override void OnParametersSet()
    {
        _showShort = DocumentItems?.Count > 9;
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        _containerStyle = new StyleBuilder()
            .AddStyle("display", "flex")
            .AddStyle("flex-wrap", "wrap")
            .Build();
    }

}